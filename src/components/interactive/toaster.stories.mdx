import {
  Meta,
  Story,
  Preview,
  Props,
  Source
} from "@storybook/addon-docs/blocks";
import { useState } from "react";
import { action } from '@storybook/addon-actions';
import PropTypes from "prop-types";

import { storiesOf } from "@storybook/react";
import {
  withKnobs,
  select,
  text,
  number,
  boolean,
  optionsKnob as options
} from "@storybook/addon-knobs";

import { ImportPath, State, arrayToOptions } from "components/util/storybook";

import Toaster, { Toaster as RawToaster } from "components/interactive/Toaster";
import Toast from "components/interactive/Toast";

<Meta
  title="Components/Interactive/Toaster"
  decorators={[withKnobs]}
  component={Toaster}
/>

# Toaster

<ImportPath component={RawToaster} section="interactive" />

Controller for positioning, transition, and dismissal of toasts.

<Story name="Knobs">
  <Toaster
    dismissDelay={number("dismissDelay", undefined)}
    dismissToast={action('dismissToast')}
    isAutoDismiss={boolean("isAutoDismiss", undefined)}
    toastProps={{
      content: text("content", 'Check out this toast'),
      type: options(
        "type",
        arrayToOptions(['error', 'success', 'info', 'progress']),
        'info',
        { display: "inline-radio" }
      ),
      progress: number("progress", 42, {
        range: true,
        min: 1,
        max: 100,
        step: 1
      }),
      canDismiss: boolean("canDismiss", undefined),
      dismissOnAction: boolean("dismissOnAction", true),
      actionLabel: text("actionLabel", 'Action'),
      onAction: action('onAction')
    }}
  />
</Story>

<Props of={RawToaster} />

Important notes:

- **⚠️ Include only one `Toaster` component per application** to ensure that only one toast is rendered at a time.
- Anytime `content` or `type` is added or modified, the Toast will animate out, and a new Toast will take it's place. 
- Any other modified props will change the Toast in place, without triggering re-animation.
