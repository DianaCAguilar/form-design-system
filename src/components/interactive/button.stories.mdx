import { Meta, Preview, Story, Props } from "@storybook/addon-docs/blocks";
import {
  withKnobs,
  text,
  boolean,
  optionsKnob as options
} from "@storybook/addon-knobs";
import { arrayToOptions, StoryWrapper, StoryItem } from "../util/storybook";
import Button, { SIZES, THEMES, ICON_PLACEMENTS } from "./Button";
import StarFilledIcon from "../../../lib/icons/react/StarFilledIcon";
import IconButton from "./IconButton";
import ButtonGroup from "./ButtonGroup";

<Meta title="Interactive|Button" decorators={[withKnobs]} component={Button} />

# Button

<Story name="Knobs" parameters={{ docs: { disable: true }}}>
  <div className={boolean("Inverted", false) ? 'inverted' : ''}>
    <Button
      disabled={boolean("disabled", false)}
      isLoading={boolean("isLoading", false)}
      isDestructive={boolean("isDestructive", false)}
      hasCaret={boolean("hasCaret", false)}
      Icon={boolean("Icon") ? StarFilledIcon : undefined}
      iconPlacement={options(
        "Show sample icon?",
        arrayToOptions(ICON_PLACEMENTS),
        undefined,
        { display: "inline-radio" }
      )}
      isFullWidth={boolean("isFullWidth", false)}
      size={options("size", arrayToOptions(SIZES), undefined, {
        display: "inline-radio"
      })}
      theme={options(
        "theme",
        arrayToOptions(THEMES),
        undefined,
        {
          display: "inline-radio"
        }
      )}
    >
      {text("text", "Button")}
    </Button>
  </div>
</Story>

<Preview isExpanded>
  <Button>Button</Button>
</Preview>

<Props of={Button} />

### Themes

<Preview>
  <Story name="Themes">
    <StoryWrapper>
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
        >
          {theme} 
        </Button>
      </StoryItem>
    ))}
    </StoryWrapper>
  </Story>
</Preview>

### isDestructive

Modifies the theme. Should only be used when the interaction involves data loss, and should also prompt the user to confirm the action.

<Preview>
  <Story name="Destructive">
    <StoryWrapper>
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
          isDestructive
        >
          {theme} 
        </Button>
      </StoryItem>
    ))}
    </StoryWrapper>
  </Story>
</Preview>

### Sizes

<Preview>
  <Story name="Sizes">
    {SIZES.map(size => (
      <div className="display--inlineBlock margin--right--half margin--bottom--half">
        <Button
          size={size}
        >
          Button
        </Button>
      </div>
    ))}
  </Story>
</Preview>


### Full width button

<Preview>
  <Story name="Full Width">
    <Button
      isFullWidth
    >
      Button
    </Button>
  </Story>
</Preview>

### Icons

ONLY pass in FDS Icon references to `Icon`. Very important. (refer to code sample)

<Preview>
  <Story name="Icons">
    <StoryWrapper>
      {ICON_PLACEMENTS.map(placement => (
        <StoryItem>
          <Button Icon={StarFilledIcon} iconPlacement={placement}>
            Button
          </Button>
        </StoryItem>
      ))}
    </StoryWrapper>
  </Story>
</Preview>

### Caret

<Preview>
  <Story name="Caret">
    <StoryWrapper>
      <StoryItem>
        <Button theme="blue" hasCaret>
          Caret
        </Button>
      </StoryItem>
      <StoryItem>
        <Button theme="blue" iconPlacement="left" hasCaret  Icon={StarFilledIcon}>
          Caret
        </Button>
      </StoryItem>
      <StoryItem>
        <Button theme="blue" iconPlacement="right" hasCaret  Icon={StarFilledIcon}>
          Caret
        </Button>
      </StoryItem>
    </StoryWrapper>
  </Story>
</Preview>

### Loading

Loading states should be shown whenever an action has the ability 
to take more than a couple of seconds of loading time

<Preview>
  <Story name="Loading">
    <StoryWrapper>
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
          isLoading
        >
          Button
        </Button>
      </StoryItem>
    ))}
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
          isDestructive
          isLoading
        >
          Button
        </Button>
      </StoryItem>
    ))}
    </StoryWrapper>
  </Story>
</Preview>

 ### Inverted

We currently supported inverting of both `ghost` and `outlined` theme
buttons. Simply surround the button(s) with an `.inverted` class.

<Preview>
  <Story name="Inverted">
    <div class="inverted bgColor--navy padding--all rounded--all">
      <StoryWrapper>
        <StoryItem>
          <Button theme="ghost">
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="outlined">
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="outlined" Icon={StarFilledIcon}>
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="ghost" disabled>
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="outlined" disabled>
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="ghost" isLoading>
            Button
          </Button>
        </StoryItem>
        <StoryItem>
          <Button theme="outlined" isLoading>
            Button
          </Button>
        </StoryItem>
      </StoryWrapper>
    </div>
  </Story>
</Preview> 

### Misc

<Preview>
  <Story name="Misc">
    <StoryWrapper>
      <StoryItem>
        <div style={{ width: '100px' }}>
          <Button>
            Text can wrap
          </Button>
        </div>
      </StoryItem>
    </StoryWrapper>
  </Story>
</Preview>
