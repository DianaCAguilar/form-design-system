import { Meta, Preview, Story, Props } from "@storybook/addon-docs/blocks";
import {
  withKnobs,
  text,
  boolean,
  optionsKnob as options
} from "@storybook/addon-knobs";
import { arrayToOptions, StoryWrapper, StoryItem } from "components/util/storybook";
import Button, { SIZES, THEMES, ICON_PLACEMENTS } from "./Button";
import StarFilledIcon from "icons/StarFilledIcon";
import IconButton from "./IconButton";
import ButtonGroup from "./ButtonGroup";

export const iconOptions = options(
  "Show sample icon?",
  arrayToOptions(ICON_PLACEMENTS),
  undefined,
  { display: "inline-radio" }
);

<Meta title="Interactive|Button" decorators={[withKnobs]} component={Button} />

# Button

Displays standard Buttons.

<Story name="Knobs">
  <Button
    label={text("Text", "Button")}
    disabled={boolean("disabled", false)}
    isLoading={boolean("isLoading", false)}
    isDestructive={boolean("isDestructive", false)}
    hasCaret={boolean("hasCaret", false)}
    Icon={iconOptions ? StarFilledIcon : undefined}
    iconPlacement={iconOptions}
    isFullWidth={boolean("isFullWidth", false)}
    size={options("size", arrayToOptions(SIZES), undefined, {
      display: "inline-radio"
    })}
    theme={options(
      "theme",
      arrayToOptions(THEMES),
      undefined,
      {
        display: "inline-radio"
      }
    )}
  />
</Story>

<Props of={Button} />

### Themes

<Preview>
  <Story name="Themes">
    <StoryWrapper>
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
          label={theme}
        />
      </StoryItem>
    ))}
    </StoryWrapper>
  </Story>
</Preview>

### isDestructive

Modifies the theme. Should only be used when the interaction involves data loss, and should also prompt the user to confirm the action.

<Preview>
  <Story name="Destructive">
    <StoryWrapper>
    {THEMES.map(theme => (
      <StoryItem>
        <Button
          theme={theme}
          isDestructive
          label={theme}
        />
      </StoryItem>
    ))}
    </StoryWrapper>
  </Story>
</Preview>

### Sizes

<Preview>
  <Story name="Sizes">
    {SIZES.map(size => (
      <div className="display--inlineBlock margin--right--half margin--bottom--half">
        <Button
          size={size}
          label={`Button (${size})`}
        />
      </div>
    ))}
  </Story>
</Preview>


### Full width button

<Preview>
  <Story name="Full Width">
    <Button
      isFullWidth
      label="Button"
    />
  </Story>
</Preview>

### Icons

ONLY pass in FDS Icon references to `Icon`. Very important. (refer to code sample)

<Preview>
  <Story name="Icons">
    {ICON_PLACEMENTS.map(placement => (
      <div className="margin--right--half margin--bottom--half display--inlineBlock">
        <Button Icon={StarFilledIcon} iconPlacement={placement} label="Button" />
      </div>
    ))}
  </Story>
</Preview>

### Caret

<Preview>
  <Story name="Caret">
    <div>
      <div className="margin--right--half margin--bottom--half display--inlineBlock">
        <Button theme="blue" hasCaret label="Caret" />
      </div>
      <div className="margin--right--half margin--bottom--half display--inlineBlock">
        <Button theme="blue" iconPlacement="left" hasCaret  Icon={StarFilledIcon} label="Caret" />
      </div>
      <div className="margin--right--half margin--bottom--half display--inlineBlock">
        <Button theme="blue" iconPlacement="right" hasCaret  Icon={StarFilledIcon} label="Caret" />
      </div>
    </div>
  </Story>
</Preview>

### Misc

<Preview>
  <Story name="Misc">
    <div
      className="margin--right--half margin--bottom--half display--inlineBlock"
      style={{ width: '100px' }}
    >
      <Button label="Text can wrap" />
    </div>
  </Story>
</Preview>
