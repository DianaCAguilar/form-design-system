import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, text, boolean } from '@storybook/addon-knobs';

import CheckIcon from 'lib/icons/react/CheckIcon';
import NewsIcon from 'lib/icons/react/NewsIcon';

import ImportPath from 'util/storybook-docs/ImportPath';;

import Updatable from './';

<Meta title="Components/Updatable" decorators={[withKnobs]} component={Updatable} />

# Updatable

<ImportPath component={Updatable} />

Wraps children in an "updatable" container with a `message` displayed as a notification-style red bubble.

<Story name="Knobs" parameters={{ docs: { disable: true }}}>
  <Updatable message={text('message', 42)} showDot={boolean('showDot', false)}>
    <button>lorem ipsum</button>
  </Updatable>
</Story>

<Preview isExpanded>
  <Updatable message="42">
    <button>lorem ipsum</button>
  </Updatable>
</Preview>

<Props of={Updatable} />

### Wrapping content

`Updatable` accepts any `children`. A wrapper will be crearted around child content to act
as a positioning reference for the indicator bubble.

<Preview>
  <Story name="Variations">
    <React.Fragment>
      <Updatable message="alert">
        <div
          style={{
            border: '1px dashed #f09',
            padding: '5px',
          }}
        >
          Updatable can wrap <b>anything</b>!
        </div>
      </Updatable>
      <br />
      <br />
      <Updatable message={<CheckIcon size="xs" color="#fff" />}>
        <img src="https://placeimg.com/80/81/animals" />
      </Updatable>
    </React.Fragment>
  </Story>
</Preview>

### Without a `message`

When the `message` prop is falsy, the indicator will not be shown.
To force a dot to render with an empty `message`, pass the `showDot` prop.

<Preview>
  <Story name="Dot only">
    <Updatable showDot>
      <NewsIcon />
    </Updatable>
  </Story>
</Preview>
