import { Meta } from "@storybook/addon-docs/blocks";
import { useClipboard, useToggleHover } from 'components/util/storybook'
import cx from 'classnames';
import { TableLayout } from "components/util/Table"

export const importPath = iconName => (
  `import ${iconName}Icon from '@cbinsights/fds/lib/icons/react/${iconName}Icon';`
);

export const Icon = ({ name, svg }) => {
  const [copiedText, copyToClipboard] = useClipboard();
  const [isHovered, toggleHover] = useToggleHover();
  return (
    <li>
      <div
        onClick={() => copyToClipboard(importPath(name))}
        className={cx('rounded--all', {
          'elevation--1': !isHovered,
          'elevation--3': isHovered,
        })}
        onMouseEnter={toggleHover}
        onMouseLeave={toggleHover}
      >
        <div
          dangerouslySetInnerHTML=\{{ __html: svg }}
        />
        <span
          className={cx("copyNotice", { 'display--block': isHovered })}
        >
          {copiedText ? <b>Copied to Clipboard</b> : 'Copy to Clipboard'}
        </span>
      </div>
      <p className="align--center wrap--singleLine--truncate type--data padding--top--half">{name}</p>
    </li>
  )
}

<Meta title="FDS|2 - Icons" />

# Icons

<TableLayout
  copy={false}
  headers={['Prop', 'Type', 'Default', 'Description']}
  data={[
      [<code>color</code>, <code>String</code>, <code>COLOR_CHARCOAL</code>, <>Color of <code>fill</code> for SVG</>],
      [<code>size</code>, <>One of: <code>'xs', 's', 'm', 'l', 'xl'</code></>, <code>s</code>, 'Standard media size of icon'],
      [<code>customSize</code>, <code>Number</code>, <code>-</code>, 'Sets a non-standard size for the icon. Prefer using the size prop.'],
  ]} 
/>

Click on an import statement to copy it.

<ul className="iconList">
  {{#each this}}
    <Icon name='{{this.name}}' svg='{{{ this.svg }}}' />
  {{/each}}
</ul>